<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Select Supplier</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
<header>
    <div class="header-left">
        <h1>PAGE TITLE (e.g. Suppliers / Customers / Create Invoice)</h1>
        <span id="active-supplier"></span>
    </div>

    <div class="header-right">
        <button id="dashboard-btn" class="cta">Dashboard</button>
        <div class="logout-group">
            <div class="language-selector">
                <button class="language-globe-btn" title="Change language">üåê</button>
                <div class="language-dropdown">
                    <button data-lang="en">English</button>
                    <button data-lang="sv">Svenska</button>
                    <button data-lang="no">Norsk</button>
                    <button data-lang="da">Dansk</button>
                    <button data-lang="fr">Fran√ßais</button>
                    <button data-lang="es">Espa√±ol</button>
                    <button data-lang="de">Deutsch</button>
                    <button data-lang="it">Italiano</button>
                    <button data-lang="nl">Nederlands</button>
                    <button data-lang="pl">Polski</button>
                </div>
            </div>
            <button id="logout-btn" class="logout-btn">Logout</button>
            <label class="theme-toggle">
                <input type="checkbox" id="theme-switch">
                <span class="slider"></span>
            </label>
        </div>
    </div>

    <div class="hamburger" id="hamburger">
        <span></span>
        <span></span>
        <span></span>
    </div>
</header>

<div class="mobile-nav" id="mobile-nav">
    <button class="mobile-nav-close" id="mobile-nav-close">√ó</button>
    <button id="mobile-dashboard-btn">Dashboard</button>
    <div class="language-selector" style="margin: 20px 0;">
        <button class="language-globe-btn" style="font-size: 32px;">üåê</button>
        <div class="language-dropdown">
            <button data-lang="en">English</button>
            <button data-lang="sv">Svenska</button>
            <button data-lang="no">Norsk</button>
            <button data-lang="da">Dansk</button>
            <button data-lang="fr">Fran√ßais</button>
            <button data-lang="es">Espa√±ol</button>
            <button data-lang="de">Deutsch</button>
            <button data-lang="it">Italiano</button>
            <button data-lang="nl">Nederlands</button>
            <button data-lang="pl">Polski</button>
        </div>
    </div>
    <button id="mobile-logout-btn" class="logout-btn">Logout</button>
    <label class="theme-toggle" style="margin:20px 0;">
        <input type="checkbox" id="mobile-theme-switch">
        <span class="slider"></span>
    </label>
</div>

<div class="main">
    <div class="card">
        <h2>Your Suppliers</h2>
        <p>Select the supplier you want to create invoices for today.</p>
        <div id="suppliers-list">
            <div class="no-suppliers">Loading suppliers...</div>
        </div>
        <button id="add-supplier-btn">Add New Supplier</button>
    </div>

    <div class="card" id="supplier-form-card" style="display:none;">
        <h2 id="form-title">Add New Supplier</h2>
        <p id="form-subtitle">Fill in your company details and add at least one bank account for receiving payments.</p>
        <form id="supplier-form">
            <div class="form-grid">
                <div class="form-group"><label>Supplier Name *</label><input id="name" required></div>
                <div class="form-group"><label>Legal Name *</label><input id="reg-name" required></div>
                <div class="form-group"><label>Endpoint ID *</label><input id="endpoint" required><div id="endpoint-validation" class="validation-message"></div></div>
                <div class="form-group"><label>VAT ID *</label><input id="vat" required><div id="vat-validation" class="validation-message"></div></div>
                <div class="form-group"><label>Company ID *</label><input id="company-id" required><div id="company-validation" class="validation-message"></div></div>
                <div class="form-group"><label>Street *</label><input id="street" required></div>
                <div class="form-group"><label>Additional Street</label><input id="additional-street"></div>
                <div class="form-group"><label>City *</label><input id="city" required></div>
                <div class="form-group"><label>Postal Code *</label><input id="postal" required></div>
                <div class="form-group"><label>Country Code *</label><input id="country" required maxlength="2"></div>
                <div class="form-group"><label>Email *</label><input id="email" type="email" required><div id="email-validation" class="validation-message"></div></div>
                <div class="form-group"><label>Default Currency *</label>
                    <select id="default-currency" required>
                        <option value="EUR">EUR</option>
                        <option value="SEK">SEK</option>
                        <option value="GBP">GBP</option>
                        <option value="USD">USD</option>
                    </select>
                </div>
            </div>

            <h3 style="margin-top:40px;">Bank Accounts</h3>
            <p style="color: var(--text-secondary); margin-bottom:20px;">Add at least one bank account. Account Name and either IBAN or BBAN are required.</p>
            <div id="banks-container"></div>
            <button type="button" id="add-bank-entry">+ Add Another Bank</button>

            <div style="margin-top:32px; display:flex; gap:16px; flex-wrap:wrap;">
                <button type="submit" id="submit-btn">Save & Select This Supplier</button>
                <button type="button" id="cancel-btn">Cancel</button>
            </div>
        </form>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="assets/js/i18n.js"></script>
<script src="assets/js/suppliers.js"></script>
<script src="assets/js/nav.js"></script>
</body>
</html>


